@page
@model Estelav.Pages.Panel.ItemsManagerModel
@{
}
<style>
    input{
        padding: 15px;
    }

    #sizesTable {
        width: 100%;
        border: 1px solid rgba(255, 255, 255, 0.45);
    }

        #sizesTable td, #sizesTable tr {
            border: 1px solid rgba(255, 255, 255, 0.45);
        }

        #sizesTable input {
            width: 60%;
            margin: 10px;
        }

    .tableInputs {
        background: rgba(255, 255, 255, 0.45);
        border-radius: 10px;
        height: 35px;
    }
</style>


<div style="display: flex; flex-direction: column; align-items: center;">

    <!--Title-->
    <span style="width: 50%;
        font-size: 36px;
        margin: auto;
        text-align: left;
        font-weight: bold;
        color: black;">Add Items</span>

    <!--Description Div-->
    <div style="height: auto; padding: 30px; width: 50%; background: #EFDBDC; display: flex; flex-wrap: wrap;
        justify-content: space-evenly; flex-direction:column; padding: 20px; margin-bottom: 30px;">
        <span style="text-align: left;">Describe in detail</span>
        <input style="background: rgba(255, 255, 255, 0.45); border-radius: 10px; height: 35px;" />

        <span style="text-align: left;">Category</span>
        <select style="background: rgba(255, 255, 255, 0.45); border-radius: 10px; height: 35px;">
            @foreach (var category in Model.categoriesList)
            {
                <option value="@category.CatergoryId">@category.CategoryName</option>

            }
        </select>

        <span style="text-align: left;">Price</span>
        <input style="background: rgba(255, 255, 255, 0.45); border-radius: 10px; height: 35px;" />

        <br/>
        <form method="post" enctype="multipart/form-data">
            <input type="file" name="photos" multiple="multiple" class="tableInputs" style="width: 100%; height: 50px;"/>
            <button type="submit" style="width: 100%; margin: 15px 0px 15px 0px; color: black; background: lightcoral; height: 45px;">Submit</button>
        </form>
    </div>


    <!--Sizes Div-->
    <div style=" min-height: 100px; height: auto; width: 50%; background: #EFDBDC; display: flex; flex-wrap: wrap; justify-content: space-evenly; flex-direction: column; padding: 20px; margin-bottom: 30px;">
        <span style="text-align: left;">Add Sizes</span>

        <table id="sizesTable">
            <tr>
                <td>Size (e.g 30, 32, XS..)</td>
                <td>Avaliable Amount</td>
            </tr>

            <tr>
                <td>
                    <input class="tableInputs" />
                </td>

                <td>
                    <input class="tableInputs" />
                </td>
            </tr>
        </table>

        <button onclick="addSizeButton()" class="addToCartBtn" style="background: green; margin:10px auto 0px auto; width: 30%;">Add More</button>


    </div>


    <!--Item Description Div-->
    <div style="height: 180px; width: 50%; background: #EFDBDC; display: flex; flex-wrap: wrap;
    justify-content: space-evenly; flex-direction:column; padding: 20px; margin-bottom: 30px;">
        <span style="text-align: left;">Description</span>
        <textarea style="background: rgba(255, 255, 255, 0.45); border-radius: 10px; height: 100px; padding:5px;"></textarea>
    </div>


    <!--Submit button-->
    <button class="addToCartBtn" style="width: 50%;  margin: auto;">
        Publish
    </button>

    <button class="addToCartBtn" id="btnInsert" style="width: 50%;  margin: auto;">
        Test
    </button>

</div>

<script>
    function addSizeButton() {
        $('#sizesTable').append('<tr><td><input class="tableInputs" /></td><td><input class="tableInputs"/></td></tr>');
    }


    $(function () {
    $("#btnInsert").click(function () {
        var itemlist = [];

        //get cell values, instead of the header text.
        $("table tr:not(:first)").each(function () {
            var tdlist = $(this).find("td");
            var Item = { ID: $(tdlist[0]).html(), Name: $(tdlist[1]).html() };
            itemlist.push(Item);

        })
        console.log(itemlist);




        @*$.ajax({
            url: '@Url.Action("InsertValue", "Home")', //
            dataType: "json",
            data: JSON.stringify({ itemlist: itemlist }),
            type: "POST",
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                alert("success");
            },
            error: function (xhr) {
                alert("error");
            }
        });*@
    });
    });
</script>